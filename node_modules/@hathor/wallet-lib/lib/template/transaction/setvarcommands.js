"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getWalletAddress = getWalletAddress;
exports.getWalletBalance = getWalletBalance;
/**
 * Copyright (c) Hathor Labs and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

async function getWalletAddress(interpreter, _ctx, options) {
  if (options.index) {
    return interpreter.getAddressAtIndex(options.index);
  }
  return interpreter.getAddress();
}
async function getWalletBalance(interpreter, _ctx, options) {
  const data = await interpreter.getBalance(options.token);
  switch (options.authority) {
    case 'mint':
      return data.tokenAuthorities.unlocked.mint;
    case 'melt':
      return data.tokenAuthorities.unlocked.melt;
    default:
      return data.balance.unlocked;
  }
}